<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>todo 리스트 화면</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>

<div id="wrap">

    <h1>todo 리스트 화면</h1>
    <div>
        <table border='1'>
            <colgroup>
                <col width="100px">
                <col width="200px">
                <col width="200px">
                <col width="200px">
                <col width="200px">
            </colgroup>
            <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">내용</th>
                <th scope="col">상태</th>
                <th scope="col">작성자</th>
                <th scope="col">등록시간</th>
            </tr>
            </thead>

            <!--데이터가 없을 경우-->
            <tbody v-if="todolist.length === 0">
            <tr>
                <td colspan="5">데이터 없음</td>
            </tr>
            </tbody>

            <!--데이터가 있을 경우-->
            <tbody v-else>
            <tr v-for="list in todolist">
                <td @click="update(list.id, list.content, list.status)">{{ list.id }}</td>
                <td>{{ list.content }}</td>
                <td>{{ list.status }}</td>
                <td>{{ list.nickname }}</td>
                <td>{{ list.createdDateTime }}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <ul>
        <li><a th:href="@{/save}">등록</a></li>
        <li><a th:href="@{/latest}">최근 등록 조회</a></li>
        <li><a th:href="@{/logout}">로그아웃</a></li>
        <li><a th:href="@{/delete}">회원탈퇴</a></li>
    </ul>

</div>

<script th:src="@{/js/list.js}"></script>

</body>
</html>